
datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Patient {
  id            String    @id @default(cuid())
  email         String    @unique
  name          String
  password      String?   // IMPORTANT: In a real application, store hashed passwords.
  phone         String?
  dob           DateTime? // Date of Birth
  // appointments  Appointment[] // Add if Appointment model is defined
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
}

model Dentist {
  id                       String    @id @default(cuid())
  email                    String    @unique
  name                     String
  password                 String?   // IMPORTANT: In a real application, store hashed passwords.
  specialty                String
  phone                    String?
  isAvailableForEmergency  Boolean   @default(false)
  profileImageUrl          String?
  bio                      String?
  // appointments             Appointment[] // Add if Appointment model is defined
  createdAt                DateTime  @default(now())
  updatedAt                DateTime  @updatedAt
}

// Basic AppointmentStatus enum, expand models as needed
enum AppointmentStatus {
  SCHEDULED
  COMPLETED
  CANCELLED
}

// To fully integrate, you would also define Appointment, Service models etc.
// For example:
/*
model Appointment {
  id           String             @id @default(cuid())
  date         DateTime
  time         String
  service      String // Or link to a Service model
  notes        String?
  status       AppointmentStatus  @default(SCHEDULED)
  
  patientId    String
  patient      Patient            @relation(fields: [patientId], references: [id])
  
  dentistId    String
  dentist      Dentist            @relation(fields: [dentistId], references: [id])
  
  createdAt    DateTime           @default(now())
  updatedAt    DateTime           @updatedAt
}
*/
